<xml xmlns:py="http://genshi.edgewall.org/" py:strip=''>

<py:def function='render_avatar_img(user, size=60)'>
  <img src='${avatar_url(user.email, size=size)}'
       class='avatar-img' width='${size}' height='${size}'
       alt="${user.name}'s avatar"/>
</py:def>

<py:def function='render_avatar(user, size=60)'>
  <span class='avatar' data-user='${user.id}'>
    ${render_avatar_img(user, size=size)}<br/>
    ${user.name}
  </span>
</py:def>

<py:def function='render_amount(amount)'>
  <span py:if='amount &lt; 0' class='red'>&minus; ${'%.1f' % -amount}</span>
  <span py:if='amount >= 0' class='green'>+ ${'%.1f' % amount}</span>
</py:def>

<py:def function='render_field(field, **kwargs)'>
  <ul py:if='field.errors' class='errors'>
    <li py:for='error in field.errors'>${error}</li>
  </ul>
  ${field(**kwargs)}
</py:def>

</xml>
